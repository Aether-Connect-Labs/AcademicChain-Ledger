import { injectable } from 'inversify';import { createCanvas, loadImage } from 'canvas';import pdfkit from 'pdfkit';interface CredentialDesign {  background: string;  logo?: string;  content: string;  styles: Record<string, string>;}@injectable()export class CredentialRenderService {  async renderToPNG(design: CredentialDesign): Promise<Buffer> {    const canvas = createCanvas(1200, 800);    const ctx = canvas.getContext('2d');        // Fondo    ctx.fillStyle = design.background;    ctx.fillRect(0, 0, canvas.width, canvas.height);        // Logo    if (design.logo) {      const logo = await loadImage(design.logo);      ctx.drawImage(logo, 50, 50, 200, 200);    }        // Contenido    ctx.fillStyle = design.styles.textColor || '#000000';    ctx.font = '24px Arial';    const lines = design.content.split('\n');    lines.forEach((line, i) => {      ctx.fillText(line, 100, 300 + (i * 40));    });        return canvas.toBuffer('image/png');  }  async renderToPDF(design: CredentialDesign): Promise<Buffer> {    return new Promise((resolve, reject) => {      const doc = new pdfkit({ size: [1200, 800] });      const buffers: any[] = [];            doc.on('data', buffers.push.bind(buffers));      doc.on('end', () => resolve(Buffer.concat(buffers)));            // Fondo      doc.rect(0, 0, 1200, 800)         .fill(design.background);            // Contenido      doc.font('Helvetica')         .fontSize(24)         .fillColor(design.styles.textColor || '#000000')         .text(design.content, 100, 300);            doc.end();    });  }}